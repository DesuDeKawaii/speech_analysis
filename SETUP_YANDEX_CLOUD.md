# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Yandex Cloud –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –∑–≤–æ–Ω–∫–æ–≤

## 1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞

### –í –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud (console.yandex.cloud):

1. **–°–æ–∑–¥–∞–π—Ç–µ –∫–∞—Ç–∞–ª–æ–≥** (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Folder ID** ‚Üí —ç—Ç–æ `YANDEX_FOLDER_ID`

2. **–°–æ–∑–¥–∞–π—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç:**
   - IAM ‚Üí –°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã ‚Üí –°–æ–∑–¥–∞—Ç—å
   - –ù–∞–∑–æ–≤–∏—Ç–µ: `speech-analysis-bot`
   - –ù–∞–∑–Ω–∞—á—å—Ç–µ —Ä–æ–ª–∏:
     - `ai.speechkit-stt.user` ‚Äî –¥–ª—è —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è —Ä–µ—á–∏
     - `ai.languageModels.user` ‚Äî –¥–ª—è YandexGPT

3. **–°–æ–∑–¥–∞–π—Ç–µ API-–∫–ª—é—á:**
   - –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç ‚Üí –°–æ–∑–¥–∞—Ç—å API-–∫–ª—é—á
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–µ–∫—Ä–µ—Ç–Ω—É—é —á–∞—Å—Ç—å ‚Üí —ç—Ç–æ `YANDEX_API_KEY`

## 2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ `.env`

```bash
cp .env.example .env
nano .env
```

–ó–∞–ø–æ–ª–Ω–∏—Ç–µ:
```
YANDEX_FOLDER_ID=b1gxxxxxxxxxx
YANDEX_API_KEY=AQVNxxxxxxxxxxxxxxxx
MEGAFON_HOST=https://mamolog.megapbx.ru/crmapi/v1
MEGAFON_KEY=–≤–∞—à_–∫–ª—é—á_–º–µ–≥–∞—Ñ–æ–Ω
```

## 3. –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ –í–ú Yandex Cloud

### –°–æ–∑–¥–∞–Ω–∏–µ –í–ú:
- **–û–°:** Ubuntu 22.04
- **vCPU:** 2 (5% guaranteed ‚Äî —Ö–≤–∞—Ç–∏—Ç)
- **RAM:** 2 –ì–ë
- **–î–∏—Å–∫:** 10 –ì–ë SSD
- **üí∞ ~500-700 —Ä—É–±/–º–µ—Å**

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```bash
# –ü–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –ø–æ SSH
sudo apt update && sudo apt install python3-pip python3-venv git -y

# –ö–ª–æ–Ω–∏—Ä—É–µ–º –ø—Ä–æ–µ–∫—Ç
git clone <URL_–í–ê–®–ï–ì–û_–†–ï–ü–û> ~/speech_analysis
cd ~/speech_analysis

# –í–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python3 -m venv .venv
source .venv/bin/activate
pip install -r requirements.txt

# –ö–æ–ø–∏—Ä—É–µ–º .env
cp .env.example .env
nano .env  # –∑–∞–ø–æ–ª–Ω—è–µ–º –∫–ª—é—á–∏
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ cron:
```bash
chmod +x setup_cron.sh
./setup_cron.sh
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:
```bash
crontab -e
```
```
# 15-–≥–æ —á–∏—Å–ª–∞ –≤ 6:00 ‚Äî –∞–Ω–∞–ª–∏–∑ –∑–∞ 1-15
0 6 15 * * cd ~/speech_analysis && .venv/bin/python reporter.py --first-half

# –ü–æ—Å–ª–µ–¥–Ω–∏–π –¥–µ–Ω—å –º–µ—Å—è—Ü–∞ –≤ 6:00 ‚Äî –∞–Ω–∞–ª–∏–∑ –∑–∞ 16-30/31
0 6 28-31 * * [ "$(date -d tomorrow +\%d)" = "01" ] && cd ~/speech_analysis && .venv/bin/python reporter.py --second-half
```

## 4. –ü—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –¢–µ—Å—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
python test_system.py

# Mock-—Ç–µ—Å—Ç (–±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö API)
python reporter.py --mock

# –†–µ–∞–ª—å–Ω—ã–π —Ç–µ—Å—Ç (—É–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ .env –∑–∞–ø–æ–ª–Ω–µ–Ω)
python reporter.py --first-half
```

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–æ–≤

| –°–µ—Ä–≤–∏—Å | –¶–µ–Ω–∞ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|--------|------|------------|
| SpeechKit STT | ~1.2 —Ä—É–±/–º–∏–Ω –∞—É–¥–∏–æ | 2000 –º–∏–Ω ‚âà 2400 —Ä—É–±/–º–µ—Å |
| YandexGPT Lite | ~0.2 —Ä—É–±/1000 —Ç–æ–∫–µ–Ω–æ–≤ | ~100 –∑–≤–æ–Ω–∫–æ–≤ ‚âà 200 —Ä—É–± |
| Compute Cloud VM | ~600 —Ä—É–±/–º–µ—Å | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è |
| **–ò–¢–û–ì–û** | **~3200 —Ä—É–±/–º–µ—Å** | –ü—Ä–∏ 2000 –º–∏–Ω –∞–Ω–∞–ª–∏–∑–∞ |
